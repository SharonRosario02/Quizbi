<%- include('../views/include/header.ejs')%>

    <link rel="stylesheet" href="/css/profile.css" />
    <div>
      <div class="nav ">
        <a href="/admin/profile/" >

          <i class="fa fa-arrow-left"><span> Home</span></i>
        </a>
        <a class="tab" href="/admin/linkResult"><span>Link Result</span></a>
      </div>
      <!-- Content here -->
      <div class="header-holder main-container">
        <div class="header">
            <h3> Results</h3>
        </div>
      </div>
      <!-- header end -->
      <div class="main-holder main-container">


        <h4 style="color: white; margin-bottom: 30px">Results</h4>



        <table id="profile">
          <tr>
            <td id="section-tbl-admin">name</td>
            <td id="section-tbl-admin">section</td>
            <td id="section-tbl-admin">difficulty</td>
            <td id="section-tbl-admin">questions attempted</td>
            <td id="section-tbl-admin">score</td>
            <td id="section-tbl-admin">percentage</td>
          </tr>
        </table>
        <% if (array.length != 0) { %>
        <% array.forEach(function(obj,key) {  %>
            <% if (obj.section != "link ") { %>
             
            
        <div class="pCard">
          <table id="profile">
              <tr>
                <td id="section-tbl-admin"><%= obj.user[0].username %></td>
                <td id="section-tbl-admin"><%= obj.section %></td>
                <td id="section-tbl-admin"><%= obj.level %></td>
                <td id="section-tbl-admin"><%= obj.questionLimit %></td>
                <td id="section-tbl-admin"><%= obj.score %></td>

                <td id="section-tbl-admin" >
                  <div class="row align-items-center">
                    <div class="col-2 ">
                      <%=obj.percentage  %>%
                    </div>
                    <div class="col-9">
                      <div
                      class="progress"
                      role="progressbar"
                      aria-label="Basic example"
                      aria-valuenow="25"
                      aria-valuemin="0"
                      aria-valuemax="100"
                      >
                      <div
                      class="progress-bar progress-bar-striped progress-bar-animated <% if (obj.percentage < 25) { %>bg-danger<% }else if(obj.percentage < 50) {%>bg-warning <% }else if(obj.percentage < 75) {%>bg-info <% }else if(obj.percentage < 100) {%> bg-success<% } %> "
                      style=<%= styles ="width:"+obj.percentage+"%"%> 
                      >
                  
                    </div>
                    </div>
                  </div>
              </div>
            </td>
          </tr>
        </table>
      </div>
      <% } %>
      <% }) %>
      <% }else { %>
        <div class="pCard">
          <div style="padding: 1rem 0; text-align: center; color: white;" >
            No result found!
          </div>
          <% } %>
      </div>
    </div>
  </body>

  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
    crossorigin="anonymous"
  ></script>
  <!-- <script src="/popper.min.js"></script> -->
</html>
