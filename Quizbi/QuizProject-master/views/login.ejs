
<!DOCTYPE html>
<!-- === Coding by CodingLab | www.codinglabweb.com === -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- ===== Iconscout CSS ===== -->
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">

    <!-- ===== CSS ===== -->
	<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
	crossorigin="anonymous"
  />
  <link
	rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
  />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" href="/css/login.css">
         
    <!--<title>Login & Registration Form</title>-->
</head>
<body>

	<script type="text/javascript">
		$(document).ready(function(){

			$( "#form" ).submit(function(event) {
				event.preventDefault();

				$.ajax({
					type: 'POST',
					url: '/login',
					data: $('#form').serialize(),
					dataType: "json",
					success: function(response){
						//alert("a");
						//console.log(response.Success);
						$('#form')[0].reset();

						document.getElementById("check").innerHTML=response.Success;
         					//ADD THIS CODE
         					setTimeout(function(){
         						document.getElementById("check").innerHTML="";
         					},3000);
         					if (response.Success=="Success!") {
								document.getElementById("aa").setAttribute("href", response.url);
                				document.getElementById("aa").click();
         					};
         				},
         				error: function() {
         				}
         			})
			});

		});
	</script>
	<script type="text/javascript">
		$(document).ready(function(){

			$( "#signup" ).submit(function(event) {
				event.preventDefault();

				$.ajax({
					type: 'POST',
					url: '/signup',
					data: $('#signup').serialize(),
					dataType: "json",
					success: function(response){
						//alert("a");
						//console.log(response.Success);
						$('#signup')[0].reset();

						document.getElementById("check").innerHTML=response.Success;
         					//ADD THIS CODE
         					setTimeout(function(){
         						document.getElementById("check").innerHTML="";
         					},4000);
         					if (response.Success=="You are regestered,You can login now.") {
         						document.getElementById("loginRoute").click();
         					};
         				},
         				error: function() {
         				}
         			})
			});

		});
	</script>
</head>
<div class="container">
	<div class="forms">
		<div class="form login">
			<span class="title">Login</span>

			<form id="form" method="post">
				<div class="input-field">
					<input type="email" name="email" placeholder="Enter your email" required>
					<i class="uil uil-envelope icon"></i>
				</div>
				<div class="input-field">
					<input type="password" class="password" name="password" minlength="4" placeholder="Enter your password" required>
					<i class="uil uil-lock icon"></i>
					<i class="uil uil-eye-slash showHidePw"></i>
				</div>

				<div class="checkbox-text">
					<div class="checkbox-content">
						<input type="checkbox" id="logCheck">
						<label for="logCheck" class="text">Remember me</label>
					</div>
					
					<a href="/forgetpass" class="text">Forgot password?</a>
				</div>

				<div class="input-field button">
					<input type="submit" value="Login">
				</div>
			</form>

			<div class="login-signup">
				<span class="text">Not a member?
					<a href="#" class="text signup-link">Signup Now</a>
				</span>
			</div>
		</div>

		<!-- Registration Form -->
		<div class="form signup">
			<span class="title">Registration</span>

			<form method="post" id="signup">
				<div class="input-field">
					<input type="text" name="username" placeholder="Enter your name" required>
					<i class="uil uil-user"></i>
				</div>
				<div class="input-field">
					<input type="email" name="email" placeholder="Enter your email" required>
					<i class="uil uil-envelope icon"></i>
				</div>
				<div class="input-field">
					<input type="password" name="password" class="password" placeholder="Create a password" minlength="4" required>
					<i class="uil uil-lock icon"></i>
				</div>
				<div class="input-field">
					<input type="password" name="passwordConf" class="password" placeholder="Confirm a password" minlength="4" required>
					<i class="uil uil-lock icon"></i>
					<i class="uil uil-eye-slash showHidePw"></i>
				</div>
				<div class="input-field">
					<input type="tel" name="mobile" id="mobile" class="mobile" placeholder="Enter your mobile number" minlength="10"  required>
					<i class="uil uil-phone icon"></i>
				</div>

				<!-- <div class="checkbox-text">
					<div class="checkbox-content">
						<input type="checkbox" id="termCon">
						<label for="termCon" class="text">I accepted all terms and conditions</label>
					</div>
				</div> -->

				<div class="input-field button">
					<input type="submit" value="Signup" id="Signupbtn">
				</div>
			</form>

			<div class="login-signup">
				<span class="text">Already a member?
					<a href="#" class="text login-link">Login Now</a>
				</span>
			</div>
		</div>
	</div>
	<div class="check" style="text-align: center;">
		<span id="check">
	
		</span>
	</div>
	<div><a  id="aa"></a></div>
	<div><a href="/login" id="loginRoute"></a></div>
</div>



    <!--<script src="script.js"></script>-->
    <script>
        const container = document.querySelector(".container"),
      pwShowHide = document.querySelectorAll(".showHidePw"),
      pwFields = document.querySelectorAll(".password"),
      signUp = document.querySelector(".signup-link"),
      login = document.querySelector(".login-link");
      const mobile = document.querySelector(".mobile");
      const Signupbtn = document.getElementById("Signupbtn");

	  mobile.addEventListener("change", length);
	  Signupbtn.addEventListener("change", length);


	
	  function length() {
		var x = mobile;
        if (x.value.length != 10) {
			console.log(x.value.length);
			document.getElementById("check").innerHTML="Mobile Number is not valid";
			setTimeout(function () {
				document.getElementById("check").innerHTML="";
			},3000);
		}
	  }

    //   js code to show/hide password and change icon
    pwShowHide.forEach(eyeIcon =>{
        eyeIcon.addEventListener("click", ()=>{
            pwFields.forEach(pwField =>{
                if(pwField.type ==="password"){
                    pwField.type = "text";

                    pwShowHide.forEach(icon =>{
                        icon.classList.replace("uil-eye-slash", "uil-eye");
                    })
                }else{
                    pwField.type = "password";

                    pwShowHide.forEach(icon =>{
                        icon.classList.replace("uil-eye", "uil-eye-slash");
                    })
                }
            }) 
        })
    })

    // js code to appear signup and login form
    signUp.addEventListener("click", ( )=>{
        container.classList.add("active");
    });
    login.addEventListener("click", ( )=>{
        container.classList.remove("active");
    });
    </script>
</body>
</html>